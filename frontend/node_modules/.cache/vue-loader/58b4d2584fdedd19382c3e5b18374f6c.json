{"remainingRequest":"/Users/I749434/Downloads/semantic-image-gui/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/I749434/Downloads/semantic-image-gui/frontend/src/views/Home.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/I749434/Downloads/semantic-image-gui/frontend/src/views/Home.vue","mtime":1747412311819},{"path":"/Users/I749434/Downloads/semantic-image-gui/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1747414316159},{"path":"/Users/I749434/Downloads/semantic-image-gui/frontend/node_modules/babel-loader/lib/index.js","mtime":1747414316171},{"path":"/Users/I749434/Downloads/semantic-image-gui/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1747414316159},{"path":"/Users/I749434/Downloads/semantic-image-gui/frontend/node_modules/vue-loader/lib/index.js","mtime":1747414313254}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkhvbWUiLAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBzZWxlY3RlZEZpbGU6IG51bGwsCiAgICAgIHByZXZpZXdVcmw6IG51bGwsCiAgICAgIGxvYWRpbmc6IGZhbHNlLAogICAgICBlcnJvcjogbnVsbCwKICAgICAgc25yOiAxLCAvLyBEZWZhdWx0IHRvIG1lZGl1bSBTTlIKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICB0cmlnZ2VyVXBsb2FkKCkgewogICAgICB0aGlzLiRyZWZzLmZpbGVJbnB1dC5jbGljaygpOwogICAgfSwKICAgIG9uRmlsZVNlbGVjdGVkKGV2ZW50KSB7CiAgICAgIHRoaXMuc2VsZWN0ZWRGaWxlID0gZXZlbnQudGFyZ2V0LmZpbGVzWzBdOwogICAgICBpZiAoIXRoaXMuc2VsZWN0ZWRGaWxlKSByZXR1cm47CgogICAgICAvLyBDcmVhdGUgcHJldmlldwogICAgICB0aGlzLnByZXZpZXdVcmwgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKHRoaXMuc2VsZWN0ZWRGaWxlKTsKICAgIH0sCiAgICBwcm9jZXNzSW1hZ2UoKSB7CiAgICAgIGlmICghdGhpcy5zZWxlY3RlZEZpbGUpIHsKICAgICAgICB0aGlzLmVycm9yID0gIlBsZWFzZSBzZWxlY3QgYW4gaW1hZ2UgZmlyc3QiOwogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZTsKICAgICAgdGhpcy5lcnJvciA9IG51bGw7CgogICAgICAvLyBGaXJzdCBzZXQgdGhlIFNOUiB2YWx1ZQogICAgICBjb25zdCBzbnJWYWx1ZXMgPSBbMCwgNSwgMTBdOyAvLyBMb3csIE1lZGl1bSwgSGlnaAogICAgICBheGlvcwogICAgICAgIC5wb3N0KCIvYXBpL3NldF9zbnIiLCB7IHNucjogc25yVmFsdWVzW3RoaXMuc25yXSB9KQogICAgICAgIC50aGVuKCgpID0+IHsKICAgICAgICAgIC8vIE5vdyB1cGxvYWQgdGhlIGltYWdlCiAgICAgICAgICBjb25zdCBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpOwogICAgICAgICAgZm9ybURhdGEuYXBwZW5kKCJmaWxlIiwgdGhpcy5zZWxlY3RlZEZpbGUpOwoKICAgICAgICAgIHJldHVybiBheGlvcy5wb3N0KCIvYXBpL3VwbG9hZCIsIGZvcm1EYXRhLCB7CiAgICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgICAiQ29udGVudC1UeXBlIjogIm11bHRpcGFydC9mb3JtLWRhdGEiLAogICAgICAgICAgICB9LAogICAgICAgICAgfSk7CiAgICAgICAgfSkKICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHsKICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICAgICAgbmFtZTogIlJlc3VsdHMiLAogICAgICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgICAgICByZXN1bHRzOiByZXNwb25zZS5kYXRhLAogICAgICAgICAgICB9LAogICAgICAgICAgfSk7CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goKGVycikgPT4gewogICAgICAgICAgY29uc29sZS5lcnJvcigiRXJyb3IgcHJvY2Vzc2luZyBpbWFnZToiLCBlcnIpOwogICAgICAgICAgdGhpcy5lcnJvciA9ICJFcnJvciBwcm9jZXNzaW5nIGltYWdlLiBQbGVhc2UgdHJ5IGFnYWluLiI7CiAgICAgICAgfSkKICAgICAgICAuZmluYWxseSgoKSA9PiB7CiAgICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgICB9KTsKICAgIH0sCiAgfSwKfTsK"},{"version":3,"sources":["Home.vue"],"names":[],"mappings":";AAmFA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Home.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <v-container fluid>\n    <v-row justify=\"center\" align=\"center\">\n      <v-col cols=\"12\" md=\"8\">\n        <v-card class=\"mx-auto mt-5\" max-width=\"800\">\n          <v-card-title class=\"text-h4 justify-center\">\n            Evolving Semantic Communication\n          </v-card-title>\n\n          <v-card-text>\n            <p class=\"text-body-1\">\n              This demo illustrates the ESemCom system described in the paper\n              \"Evolving Semantic Communication with Generative Model\". Upload an\n              image to see how it's processed through the semantic communication\n              pipeline.\n            </p>\n\n            <v-divider class=\"my-5\"></v-divider>\n\n            <v-row justify=\"center\" class=\"my-5\">\n              <v-btn\n                color=\"primary\"\n                @click=\"triggerUpload\"\n                :loading=\"loading\"\n                :disabled=\"loading\"\n              >\n                Choose Image\n              </v-btn>\n              <input\n                type=\"file\"\n                ref=\"fileInput\"\n                style=\"display: none\"\n                @change=\"onFileSelected\"\n                accept=\"image/*\"\n              />\n            </v-row>\n\n            <v-alert v-if=\"error\" type=\"error\" dismissible class=\"mt-3\">\n              {{ error }}\n            </v-alert>\n\n            <v-row v-if=\"selectedFile\" justify=\"center\" class=\"mt-5\">\n              <v-col cols=\"12\" class=\"text-center\">\n                <h3>Selected Image</h3>\n                <v-img\n                  :src=\"previewUrl\"\n                  max-height=\"300\"\n                  contain\n                  class=\"mx-auto\"\n                ></v-img>\n                <v-btn\n                  color=\"success\"\n                  class=\"mt-5\"\n                  @click=\"processImage\"\n                  :loading=\"loading\"\n                  :disabled=\"loading\"\n                >\n                  Process Image\n                </v-btn>\n              </v-col>\n            </v-row>\n\n            <v-row v-if=\"selectedFile\" justify=\"center\" class=\"mt-3\">\n              <v-col cols=\"12\" sm=\"6\">\n                <v-slider\n                  v-model=\"snr\"\n                  :tick-labels=\"['Low', 'Medium', 'High']\"\n                  :max=\"2\"\n                  step=\"1\"\n                  ticks=\"always\"\n                  tick-size=\"4\"\n                  label=\"Channel Quality (SNR)\"\n                ></v-slider>\n              </v-col>\n            </v-row>\n          </v-card-text>\n        </v-card>\n      </v-col>\n    </v-row>\n  </v-container>\n</template>\n\n<script>\nimport axios from \"axios\";\n\nexport default {\n  name: \"Home\",\n  data() {\n    return {\n      selectedFile: null,\n      previewUrl: null,\n      loading: false,\n      error: null,\n      snr: 1, // Default to medium SNR\n    };\n  },\n  methods: {\n    triggerUpload() {\n      this.$refs.fileInput.click();\n    },\n    onFileSelected(event) {\n      this.selectedFile = event.target.files[0];\n      if (!this.selectedFile) return;\n\n      // Create preview\n      this.previewUrl = URL.createObjectURL(this.selectedFile);\n    },\n    processImage() {\n      if (!this.selectedFile) {\n        this.error = \"Please select an image first\";\n        return;\n      }\n\n      this.loading = true;\n      this.error = null;\n\n      // First set the SNR value\n      const snrValues = [0, 5, 10]; // Low, Medium, High\n      axios\n        .post(\"/api/set_snr\", { snr: snrValues[this.snr] })\n        .then(() => {\n          // Now upload the image\n          const formData = new FormData();\n          formData.append(\"file\", this.selectedFile);\n\n          return axios.post(\"/api/upload\", formData, {\n            headers: {\n              \"Content-Type\": \"multipart/form-data\",\n            },\n          });\n        })\n        .then((response) => {\n          this.$router.push({\n            name: \"Results\",\n            params: {\n              results: response.data,\n            },\n          });\n        })\n        .catch((err) => {\n          console.error(\"Error processing image:\", err);\n          this.error = \"Error processing image. Please try again.\";\n        })\n        .finally(() => {\n          this.loading = false;\n        });\n    },\n  },\n};\n</script>\n"]}]}